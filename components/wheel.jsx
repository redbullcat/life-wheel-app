// src/components/Wheel.jsx
export default function Wheel({ onSelectSegment }) {
  const center = 136.5;

  const segments = [0, 45, 90, 135, 180, 225, 270, 315];

  return (
    <svg
      width="273"
      height="273"
      viewBox="0 0 273 273"
      xmlns="http://www.w3.org/2000/svg"
    >
      <defs>
        <g id="segment">
          <mask id="path-1-inside-1" fill="white">
            <path d="M273 136.5C273 154.425 269.469 172.175 262.61 188.736C255.75 205.297 245.695 220.345 233.02 233.02L136.5 136.5H273Z" />
          </mask>

          <path
            d="M273 136.5C273 154.425 269.469 172.175 262.61 188.736C255.75 205.297 245.695 220.345 233.02 233.02L136.5 136.5H273Z"
            fill="white"
            stroke="black"
            strokeWidth="2"
            mask="url(#path-1-inside-1)"
          />

          <path d="M156.144 136.635C156.144 139.235 155.614 141.81 154.585 144.212C153.555 146.614 152.047 148.797 150.144 150.635" stroke="black" />
          <path d="M169.144 136.635C169.144 140.907 168.349 145.136 166.805 149.083C165.261 153.029 162.998 156.615 160.144 159.635" stroke="black" />
          <path d="M182.144 136.635C182.144 142.578 180.996 148.463 178.766 153.954C176.535 159.444 173.266 164.433 169.144 168.635" stroke="black" />
          <path d="M195.144 136.635C195.144 144.25 193.643 151.79 190.726 158.824C187.809 165.859 183.534 172.251 178.144 177.635" stroke="black" />
          <path d="M208.144 136.635C208.144 145.921 206.29 155.116 202.687 163.695C199.083 172.274 193.802 180.069 187.144 186.635" stroke="black" />
          <path d="M221.144 136.635C221.144 147.593 218.937 158.443 214.647 168.566C210.357 178.689 204.07 187.887 196.144 195.635" stroke="black" />
          <path d="M234.144 136.635C234.144 149.264 231.672 161.769 226.867 173.437C222.063 185.104 215.021 195.705 206.144 204.635" stroke="black" />
          <path d="M247.144 136.635C247.144 150.936 244.318 165.096 238.828 178.307C233.337 191.519 225.29 203.524 215.144 213.635" stroke="black" />
          <path d="M260 136.5C260 152.718 256.806 168.778 250.599 183.761C244.393 198.745 235.296 212.36 223.828 223.828" stroke="black" />
        </g>
      </defs>

      {segments.map((angle, index) => (
        <g
          key={index}
          onClick={() => onSelectSegment(index)}
          style={{ cursor: "pointer" }}
        >
          <use
            href="#segment"
            transform={`rotate(${angle} ${center} ${center})`}
          />
        </g>
      ))}
    </svg>
  );
}
